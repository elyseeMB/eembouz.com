import{o as c}from"./client.Dro3Yt0u.js";const l=["en","zh"];function i(e,n){if(n.length!==1)throw new Error("Char must be single character");if(e==null||e.length===0)return e;const a=n.charCodeAt(0);let t=0,o=e.length-1;for(;t<=o&&e.charCodeAt(t)===a;)t++;for(;o>=t&&e.charCodeAt(o)===a;)o--;return e.slice(t,o+1)}function s(){const e=localStorage.getItem("lang"),n=window.location.pathname,a=navigator.language.split("-")[0].toLowerCase(),t=n.split("/")[1];if(l.includes(t)&&t!=="fr"){localStorage.setItem("lang",t);return}if(e){e!=="fr"&&!n.startsWith("/"+e)&&(window.location.href="/"+i(e+n,"/"));return}let r="fr";l.includes(a)?r=a:a!=="fr"&&(r="en"),localStorage.setItem("lang",r),r!=="fr"&&!n.startsWith("/"+r)&&(window.location.href="/"+i(r+n,"/"))}s();c(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark")});
